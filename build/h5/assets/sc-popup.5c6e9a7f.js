import{d as e,r as t,x as o,w as a,m as l,b as s,e as u,f as d,A as r,j as n,h as i,H as p,i as c,a0 as f,s as m}from"./index.4b002d2b.js";import{_ as g}from"./_plugin-vue_export-helper.cdc0426e.js";const y=g(e({__name:"sc-popup",props:{...{modelValue:{type:Boolean,default:!1},direction:{type:String,default:"center"},size:{type:[String,Number],default:"auto"},backgroundColor:{type:String,default:"#fff"},radius:{type:String,default:"0"},padding:{type:String,default:"0"},closeOnClickModal:{type:Boolean,default:!0},showModal:{type:Boolean,default:!0},zIndex:{type:[String,Number],default:100},modalBackground:{type:String,default:"rgba(0,0,0,0.3)"}}},emits:["update:modelValue","open","opened","close","closed"],setup(e,{emit:g}){const y=e,b=t(!1),h=t(!1);let _=null;const v=o((()=>{switch(y.direction){case"top":case"bottom":return y.size;case"left":case"right":return"100%"}})),k=o((()=>{switch(y.direction){case"top":case"bottom":return"100%";case"left":case"right":return y.size}}));function x(){if(h.value){(()=>{h.value=!1,g("close"),"number"==typeof _&&clearTimeout(_),_=setTimeout((()=>{b.value=!1,g("update:modelValue",!1),g("closed")}),300)})()}}function w(){y.closeOnClickModal&&x()}return a((()=>y.modelValue),(e=>{e?b.value||(b.value=!0,g("update:modelValue",!0),g("open"),"number"==typeof _&&clearTimeout(_),_=setTimeout((()=>{h.value=!0,_=setTimeout((()=>{g("opened")}),350)}),50)):x()}),{immediate:!0}),(e,t)=>{const o=m;return l(b)?(s(),u(o,{key:0,class:c(["sc-popup__wrapper fixed top-0 right-0 bottom-0 left-0 opacity-0 pointer-events-none",[`sc-popup__wrapper--${e.direction}`,"is-"+(l(h)?"open":"close")]]),style:n({zIndex:+e.zIndex}),onTouchmove:t[0]||(t[0]=f((()=>{}),["stop","prevent"]))},{default:d((()=>[r(" 蒙层 "),e.showModal?(s(),u(o,{key:0,class:"w-full h-full absolute top-0 left-0 right-0 bottom-0",style:n({background:e.modalBackground}),onClick:w},null,8,["style"])):r("v-if",!0),r(" 内容 "),i(o,{class:"sc-popup flex flex-col bg-white absolute box-border",style:n({height:l(v),width:l(k),backgroundColor:e.backgroundColor,borderRadius:e.radius})},{default:d((()=>[i(o,{class:"sc-popup__container h-full",style:n({padding:e.padding})},{default:d((()=>[p(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["style"])])),_:3},8,["class","style"])):r("v-if",!0)}}}),[["__scopeId","data-v-950c6d30"]]);export{y as _};
