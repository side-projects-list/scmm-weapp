import{u as e,_ as t}from"./sc-scroll-top.615c849b.js";import{u as a}from"./hook-handler.d0811128.js";import{d as s,r as l,w as r,u as o,o as c,a as i,n,g as d,c as u,b as p,e as f,f as m,h as x,i as g,j as h,k as _,F as b,l as y,m as v,p as w,t as k,q as S,s as C,S as j,v as $,x as B,y as z,z as I,A as N,B as R,C as F,D as q,E as D,G}from"./index.4b002d2b.js";import{_ as H}from"./sc-nav-bar.e258cf45.js";import{_ as M}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as A,a as P}from"./sc-waterfall.dab381a9.js";import{_ as T}from"./sc-load-more.c7300637.js";import{_ as L}from"./ic_search.22172ccc.js";import{r as W}from"./route.99ab519a.js";import"./uni-qrcode.a0d42b81.js";import{P as E}from"./product.d0fc3ac7.js";import"./sc-icon.52d4ad3f.js";const X=M(s({__name:"sc-tabs",props:{...{tabs:{type:Array,default:()=>[]},current:{type:Number,default:0},scroll:{type:Boolean,default:!1},height:{type:[Number,String],default:80},leftGap:{type:[Number,String],default:0},backgroundColor:{type:String,default:"#fff"},size:{type:Number,default:28},color:{type:String,default:"#666"},selectedColor:{type:String,default:"#385aff"},bold:{type:Boolean,default:!1},sliderHeight:{type:String,default:"2px"},sliderBgColor:{type:String,default:"#385aff"},sliderRadius:{type:String,default:"2px"},bottom:{type:String,default:"0"},isFixed:{type:Boolean,default:!1},isSticky:{type:Boolean,default:!1},top:{type:Number,default:44},zIndex:{type:[Number,String],default:996}}},emits:["change"],setup(e,{emit:t}){const a=e,s=S(),$=l(`sc_10_${Math.floor(1e5*Math.random()).toString()}`),B=l(`sc_01_${Math.floor(1e5*Math.random()).toString()}`),z=l(0),I=l([]),N=l(!0),R=l(!1),F=l(0),q=l(0),D=l(0),G=l(0),H=l(-1);function M(e){const a=Number(e.currentTarget.dataset.index);t("change",{index:a}),A(a)}function A(e,t=!0){const s=I.value[e];if(!s)return;const l=s.width||0,r=s.left||0;if(R.value=t,G.value=e,a.scroll){const e=r-(z.value-l)/2;D.value=e,F.value=r-H.value,q.value=l}else F.value=r-H.value,q.value=l}function P(){const{windowWidth:e}=d();u().in(s.ctx).select(".sc-scroll__view").boundingClientRect((t=>{t&&(z.value=t.width||e)})).selectAll(".sc-item__child").boundingClientRect((e=>{N.value=!0,I.value=e,A(G.value,!1)})).exec()}return r((()=>a.tabs),(()=>{N.value=!1,setTimeout((()=>P()),200)})),r((()=>a.current),(e=>{A(e)})),r((()=>a.leftGap),(e=>{H.value=o(+e)})),c((()=>G.value=a.current)),i((()=>{H.value=o(+a.leftGap),n((()=>P()))})),(e,t)=>{const a=C,s=j;return p(),f(s,{class:g(["sc-scroll__view w-full h-80rpx overflow-hidden",[e.isFixed&&!e.isSticky?"sc-tabs__fixed fixed left-0":"",e.isSticky?"sc-tabs__sticky sticky left-0":"",v(B)]]),style:h({height:`${e.height}rpx`,background:e.backgroundColor,top:e.isFixed||e.isSticky?`${e.top}px`:"auto",zIndex:e.isFixed||e.isSticky?e.zIndex:"auto"}),"scroll-x":v(N),"scroll-with-animation":v(N),"scroll-left":v(D)},{default:m((()=>[x(a,{class:"sc-tabs__wrap pb-20rpx"},{default:m((()=>[x(a,{class:g(["sc-tabs__list relative flex h-80rpx",[e.scroll?"sc-tabs__scroll block whitespace-nowrap":""]]),style:h({height:`${e.height}rpx`})},{default:m((()=>[(p(!0),_(b,null,y(e.tabs,((t,s)=>(p(),f(a,{key:s,class:"sc-tabs__item",style:h({height:`${e.height}rpx`}),"data-index":s,onClick:M},{default:m((()=>[x(a,{class:g(["sc-item__child",[v($),v(G)===s?"sc-item__child-active":""]]),style:h({color:v(G)===s?e.selectedColor:e.color,fontSize:`${e.size}rpx`,fontWeight:e.bold&&v(G)===s?"bold":"normal"})},{default:m((()=>[w(k(t.name),1)])),_:2},1032,["class","style"])])),_:2},1032,["style","data-index"])))),128)),x(a,{class:g(["sc-tabs__line",[v(R)?"sc-transition":""]]),style:h({background:e.sliderBgColor,height:e.sliderHeight,borderRadius:e.sliderRadius,bottom:e.bottom,width:`${v(q)}px`,transform:`translateX(${v(F)}px)`})},null,8,["class","style"])])),_:1},8,["class","style"])])),_:1})])),_:1},8,["class","style","scroll-x","scroll-with-animation","scroll-left"])}}}),[["__scopeId","data-v-c28e475b"]]);const J=M(s({__name:"index",setup(s){const{handlePageScroll:r,scrollTop:o,opacity:c}=e(),{handlePulldownRefresh:i}=a(),n=$(),{catesList:d}={catesList:l([{value:"xc",name:"洗车",page:"/pages/product/index/index?cate=xc",icon:"/scmm-weapp/assets/home_ent_xc.8d051c17.png"},{value:"by",name:"保养",page:"/pages/product/index/index?cate=by",icon:"/scmm-weapp/assets/home_ent_by.a599db01.png"},{value:"pq",name:"喷漆",page:"/pages/product/index/index?cate=pq",icon:"/scmm-weapp/assets/home_ent_pq.79654ffc.png"},{value:"tm",name:"贴膜",page:"/pages/product/index/index?cate=tm",icon:"/scmm-weapp/assets/home_ent_tm.d987663b.png"}])},u=l(0),g=l((n.getSystemInfo().statusBarHeight||0)+44),S=[{name:"推荐1"},{name:"推荐2"},{name:"推荐3"},{name:"推荐4"},{name:"推荐5"}],j=l(0);function M(e){j.value=e.index}const J=B((()=>E.slice(7)));return z(r),I(i),(e,a)=>{const s=C,l=R,r=F(q("sc-nav-bar"),H),i=G,$=D,B=F(q("sc-tabs"),X),z=F(q("sc-product"),A),I=F(q("sc-waterfall"),P),K=F(q("sc-load-more"),T),O=F(q("sc-scroll-top"),t);return p(),f(s,{class:"home-page"},{default:m((()=>[x(r,{fixed:!0,"safe-area-inset-top":!0,"bg-color":`rgba(255,255,255,${v(c)})`,"left-icon":" ","title-style":{width:"100vw"},"status-bar-height":v(n).getSystemInfo().statusBarHeight},{default:m((()=>[x(s,{class:"flex items-center w-full pl-32rpx pr-20rpx"},{default:m((()=>[x(s,{class:"mr-16rpx flex-shrink-0 text-36rpx font-600"},{default:m((()=>[w(" 汽车护养商城 ")])),_:1}),x(s,{class:"flex items-center text-gray-light bg-white h-60rpx flex-1 border border-black-dark border-opacity-8 rounded-60rpx px-17rpx box-border",style:h({marginRight:`${v(u)}px`}),onClick:a[0]||(a[0]=e=>v(W)("/pages/product/index/index"))},{default:m((()=>[x(l,{class:"w-32rpx h-32rpx mr-8rpx",src:L}),w(" 洗护 ")])),_:1},8,["style"])])),_:1})])),_:1},8,["bg-color","status-bar-height"]),N(" 轮播图 "),x(s,{class:"banner relative"},{default:m((()=>[x(s,{class:"absolute left-0 right-0 bottom-0 h-320rpx"},{default:m((()=>[x($,{"indicator-dots":"",autoplay:"",interval:6e3,circular:"","indicator-active-color":"#385affcc",class:"h-full"},{default:m((()=>[(p(!0),_(b,null,y(v(J),(e=>(p(),f(i,{key:e.id},{default:m((()=>[x(s,{class:"w-full h-full px-32rpx rounded-24rpx overflow-hidden box-border"},{default:m((()=>[x(l,{src:e.cover,class:"w-full h-full rounded-24rpx",mode:"aspectFill",onClick:t=>v(W)(`/pages/product/detail/index?id=${e.id}`)},null,8,["src","onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),N(" 入口列表 "),x(s,{class:"flex items-center justify-between px-32rpx my-32rpx"},{default:m((()=>[(p(!0),_(b,null,y(v(d),(e=>(p(),f(s,{key:e.value,onClick:t=>v(W)(e.page)},{default:m((()=>[x(s,{class:"w-112rpx h-112rpx mb-16rpx"},{default:m((()=>[x(l,{src:e.icon,class:"w-full h-full"},null,8,["src"])])),_:2},1024),x(s,{class:"text-center font-500"},{default:m((()=>[w(k(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),N(" 分类菜单 "),x(B,{"slider-height":"0","is-sticky":"",top:v(g),"background-color":"#f8f8f8",color:"#666666","selected-color":"#333333",bold:"",scroll:"",tabs:S,current:v(j),onChange:M},null,8,["top","current"]),N(" 间隔 "),x(s,{class:"py-16rpx"}),N(" 商品列表(瀑布流) "),x(I,{"items-list":v(E),"page-size":10,"column-gap":"22rpx","left-gap":"32rpx","right-gap":"32rpx"},{left:m((({item:e})=>[x(s,{class:"mb-24rpx"},{default:m((()=>[x(z,{"item-data":e,onDetail:t=>v(W)(`/pages/product/detail/index?id=${e.id}`)},null,8,["item-data","onDetail"])])),_:2},1024)])),right:m((({item:e})=>[x(s,{class:"mb-24rpx"},{default:m((()=>[x(z,{"item-data":e,onDetail:t=>v(W)(`/pages/product/detail/index?id=${e.id}`)},null,8,["item-data","onDetail"])])),_:2},1024)])),_:1},8,["items-list"]),x(K,{status:"no-more"}),x(O,{"scroll-top":v(o)},null,8,["scroll-top"])])),_:1})}}}),[["__scopeId","data-v-2853da39"]]);export{J as default};
