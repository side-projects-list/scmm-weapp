import{d as o,r as e,w as l,o as t,ab as s,b as n,e as c,f as r,j as a,h as i,i as d,p as u,t as f,m as p,A as _,s as y}from"./index.4b002d2b.js";import{_ as m}from"./_plugin-vue_export-helper.cdc0426e.js";const b=m(o({__name:"sc-countdown",props:{...{borderColor:{type:String,default:"#333"},backgroundColor:{type:String,default:"#fff"},size:{type:Number,default:24},color:{type:String,default:"#333"},scale:{type:Boolean,default:!1},colonSize:{type:Number,default:28},colonColor:{type:String,default:"#333"},time:{type:[Number,String],default:0},days:{type:Boolean,default:!1},hours:{type:Boolean,default:!0},minutes:{type:Boolean,default:!0},seconds:{type:Boolean,default:!0},unitEn:{type:Boolean,default:!1},isColon:{type:Boolean,default:!0}}},emits:["end"],setup(o,{emit:m}){const b=o,C=e(void 0),z=e("0"),g=e("00"),v=e("00"),w=e("00"),S=e(!1);function $(){clearInterval(C.value),C.value=void 0}function x(){let o=Number(b.time||0);S.value=!0,h(o),C.value=setInterval((()=>{o--,o<0?function(o=!1){S.value=!1,$(),o||m("end")}():h(o)}),1e3)}function h(o){let[e,l,t,s]=[0,0,0,0];o>0&&(e=b.days?Math.floor(o/86400):0,l=b.hours?Math.floor(o/3600)-24*e:0,t=b.minutes?Math.floor(o/60)-60*l-24*e*60:0,s=Math.floor(o)-24*e*60*60-60*l*60-60*t),z.value=String(e),g.value=l<10?`0${l}`:`${l}`,v.value=t<10?`0${t}`:`${t}`,w.value=s<10?`0${s}`:`${s}`}return l((()=>b.time),(()=>{$(),x()})),t((()=>{$(),Number(b.time||0)>0&&x()})),s((()=>{$()})),(o,e)=>{const l=y;return n(),c(l,{class:"sc-countdown flex items-center"},{default:r((()=>[o.days?(n(),c(l,{key:0,class:"sc-countdown__item",style:a({background:o.backgroundColor,borderColor:o.borderColor})},{default:r((()=>[i(l,{class:d(["sc-countdown__item-time",[o.scale?"sc-countdown-scale":""]]),style:a({fontSize:`${o.size}rpx`,color:o.color,lineHeight:`${o.size}rpx`})},{default:r((()=>[u(f(p(z)),1)])),_:1},8,["class","style"])])),_:1},8,["style"])):_("v-if",!0),o.days?(n(),c(l,{key:1,class:d(["sc-countdown__colon",{"sc-countdown__colon-pad p-0":"transparent"===o.borderColor}]),style:a({lineHeight:`${o.colonSize}rpx`,fontSize:`${o.colonSize}rpx`,color:o.colonColor})},{default:r((()=>[u(f(o.isColon?":":"天"),1)])),_:1},8,["class","style"])):_("v-if",!0),o.hours?(n(),c(l,{key:2,class:"sc-countdown__item",style:a({background:o.backgroundColor,borderColor:o.borderColor})},{default:r((()=>[i(l,{class:d(["sc-countdown__item-time",[o.scale?"sc-countdown-scale":""]]),style:a({fontSize:`${o.size}rpx`,color:o.color,lineHeight:`${o.size}rpx`})},{default:r((()=>[u(f(p(g)),1)])),_:1},8,["class","style"])])),_:1},8,["style"])):_("v-if",!0),o.hours?(n(),c(l,{key:3,class:d(["sc-countdown__colon",{"sc-countdown__colon-pad p-0":"transparent"===o.borderColor}]),style:a({lineHeight:`${o.colonSize}rpx`,fontSize:`${o.colonSize}rpx`,color:o.colonColor})},{default:r((()=>[u(f(o.isColon?":":"时"),1)])),_:1},8,["class","style"])):_("v-if",!0),o.minutes?(n(),c(l,{key:4,class:"sc-countdown__item",style:a({background:o.backgroundColor,borderColor:o.borderColor})},{default:r((()=>[i(l,{class:d(["sc-countdown__item-time",[o.scale?"sc-countdown-scale":""]]),style:a({fontSize:`${o.size}rpx`,color:o.color,lineHeight:`${o.size}rpx`})},{default:r((()=>[u(f(p(v)),1)])),_:1},8,["class","style"])])),_:1},8,["style"])):_("v-if",!0),o.minutes?(n(),c(l,{key:5,class:d(["sc-countdown__colon",{"sc-countdown__colon-pad p-0":"transparent"===o.borderColor}]),style:a({lineHeight:`${o.colonSize}rpx`,fontSize:`${o.colonSize}rpx`,color:o.colonColor})},{default:r((()=>[u(f(o.isColon?":":"分"),1)])),_:1},8,["class","style"])):_("v-if",!0),o.seconds?(n(),c(l,{key:6,class:"sc-countdown__item",style:a({background:o.backgroundColor,borderColor:o.borderColor})},{default:r((()=>[i(l,{class:d(["sc-countdown__item-time",[o.scale?"sc-countdown-scale":""]]),style:a({fontSize:`${o.size}rpx`,color:o.color,lineHeight:`${o.size}rpx`})},{default:r((()=>[u(f(p(w)),1)])),_:1},8,["class","style"])])),_:1},8,["style"])):_("v-if",!0),o.seconds&&!o.isColon?(n(),c(l,{key:7,class:d(["sc-countdown__colon",{"sc-countdown__colon-pad p-0":"transparent"===o.borderColor}]),style:a({lineHeight:`${o.colonSize}rpx`,fontSize:`${o.colonSize}rpx`,color:o.colonColor})},{default:r((()=>[u(f(o.unitEn?"s":"秒"),1)])),_:1},8,["class","style"])):_("v-if",!0)])),_:1})}}}),[["__scopeId","data-v-714ffed6"]]);export{b as _};
