import{r as e,d as t,x as a,w as s,C as r,D as l,b as o,e as d,f as u,h as c,m as p,_ as i,p as n,i as f,t as m,s as x,B as _,a0 as b,a1 as v}from"./index.4b002d2b.js";import{g}from"./uni-qrcode.a0d42b81.js";import{_ as h}from"./sc-icon.52d4ad3f.js";import{_ as C}from"./sc-popup.5c6e9a7f.js";import{_ as w}from"./_plugin-vue_export-helper.cdc0426e.js";import{O as y}from"./order.c4e6208f.js";function D(){const t=e(!1),a="canvasId",s=e("");return{openPopup:function(e){var r;const l=(null==(r=null==e?void 0:e.verificationCode.find((e=>!e.status)))?void 0:r.code)||"欢迎使用SCMM";t.value=!0,g(l,a,s)},showPopup:t,canvasId:a,qrCodeImageUrl:s}}const j=w(t({__name:"sc-popup-qr-code",props:{...{modelValue:{type:Boolean,default:!1},qrCodeImage:{type:String,default:""},itemData:{type:Object,default:()=>({id:6,orderNumber:"SC358028375847603777",createdAt:"2022-11-27 11:23:00",paidAt:"2022-11-27 11:40:00",completedAt:"",availableAt:"2023-11-23 12:23:00",code:"5443 6799 7485",quality:1,userId:1,verificationCode:[{id:9,code:"2388 0002 3479",status:0,updatedAt:"2022-11-27 11:23:00"}]})}}},emits:["update:modelValue"],setup(t,{expose:b,emit:v}){const g=t,w=e(!1),y=a((()=>g.itemData.verificationCode.find((e=>!e.status))));function D(){v("update:modelValue",!0),w.value=!0}function j(){v("update:modelValue",!1),w.value=!1}return b({open:D,close:j}),s((()=>g.modelValue),(e=>{e?D():j()}),{immediate:!0}),(e,t)=>{const a=x,s=_,b=r(l("sc-icon"),h),v=r(l("sc-popup"),C);return o(),d(a,{class:"sc-popup-qr-code"},{default:u((()=>[c(v,{modelValue:p(w),"onUpdate:modelValue":t[0]||(t[0]=e=>i(w)?w.value=e:null),radius:"24rpx","background-color":"transparent",onClose:j},{default:u((()=>[c(a,{class:"bg-white rounded-24rpx w-600rpx box-border px-40rpx pt-66rpx pb-44rpx"},{default:u((()=>[c(a,{class:"text-32rpx font-600 text-black text-center"},{default:u((()=>[n(" 请向收银员出示此核销码 ")])),_:1}),c(a,{class:"w-520rpx h-520rpx mt-32rpx"},{default:u((()=>[c(s,{class:"w-full h-full",src:e.qrCodeImage},null,8,["src"])])),_:1}),c(a,{class:f(["text-56rpx text-black font-600 text-center mt-20rpx",p(y)&&1===p(y).status?"!text-gray-light line-through":""])},{default:u((()=>{var e;return[n(m((null==(e=p(y))?void 0:e.code)||""),1)]})),_:1},8,["class"])])),_:1}),c(a,{class:"flex justify-center mt-40rpx"},{default:u((()=>[c(b,{name:"error",size:"84rpx",color:"white",onClick:j})])),_:1})])),_:1},8,["modelValue"])])),_:1})}}}),[["__scopeId","data-v-975b78a1"]]),k=w(t({__name:"sc-order-product",props:{...{enablePreview:{type:Boolean,default:!1},itemData:{type:Object,default:()=>y[0]}}},emits:["detail"],setup(e,{emit:t}){const a=e;function s(){if(a.enablePreview)return v({urls:a.itemData.product.images,current:0});t("detail",a.itemData.product.id)}return(e,a)=>{const r=_,l=x;return o(),d(l,{class:"sc-order-product flex items-start text-28rpx",onClick:a[0]||(a[0]=a=>t("detail",e.itemData.id))},{default:u((()=>[c(l,{class:"mr-24rpx"},{default:u((()=>[c(r,{src:e.itemData.product.cover,class:"w-120rpx h-120rpx rounded-8rpx flex-shrink-0",onClick:b(s,["stop"])},null,8,["src","onClick"])])),_:1}),c(l,{class:"flex justify-between w-full"},{default:u((()=>[c(l,{class:"line-clamp-3 text-black"},{default:u((()=>[n(m(e.itemData.product.name),1)])),_:1}),c(l,{class:"ml-26rpx text-right flex-shrink-0"},{default:u((()=>[c(l,{class:"font-600"},{default:u((()=>[n(" ¥"+m(e.itemData.product.price),1)])),_:1}),c(l,{class:"text-gray-light mt-18rpx"},{default:u((()=>[n(" x"+m(e.itemData.quality||0),1)])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-f5df29db"]]);export{j as _,k as s,D as u};
